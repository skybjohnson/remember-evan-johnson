<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Celebrating the Life of Evan James Johnson</title>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600&family=Inter:wght@300;400;500&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="header">
        <div class="header-inner">
            <img src="evan-circle.png" alt="Evan James Johnson" class="profile-image">
            <div class="title-container">
                <h1 class="title-intro">Celebrating the Life of</h1>
                <h1 class="title-name">Evan James Johnson</h1>
            </div>
            <p class="subtitle">THIS IS A MEMORIAL PAGE FOR EVAN JAMES JOHNSON. EVAN WAS A JUNIOR AT PLANO SENIOR HIGH SCHOOL. HE WAS BORN ON THANKSGIVING DAY, NOVEMBER 27, 1997 AND DIED IN HIS SLEEP ON DECEMBER 20, 2014.</p>
        </div>
    </div>

    <div class="tabs">
        <button class="tab" data-tab="news">NEWS</button>
        <button class="tab" data-tab="service">SERVICE INFORMATION</button>
        <button class="tab" data-tab="obituary">OBITUARY</button>
        <button class="tab" data-tab="pictures">PICTURES</button>
        <button class="tab" data-tab="video">VIDEO</button>
        <button class="tab" data-tab="share">SHARE A MEMORY</button>
        <button class="tab" data-tab="memories">MEMORIES</button>
    </div>

    <div id="news" class="tab-content">
        <div class="news-links">
            <a href="https://wildcattales.com/news/2014/12/23/remembering-evan-johnson/" class="news-link" target="_blank">
                <img src="wildcattales-preview.jpg" alt="Wildcat Tales Article Preview" class="news-thumbnail">
                <div class="news-content">
                    <h3>Evan James Johnson Obituary</h3>
                    <p>Published in the Plano Senior High School newspaperon December 12, 2014</p>
                </div>
                <span class="news-arrow">→</span>
            </a>
            
            <a href="http://starlocalmedia.com/planocourier/news/remember-evan-johnson/article_8f7c9ad4-9838-11e4-89f4-0f79ae1823c6.html" target="_blank" class="news-link">
                <div class="news-thumbnail-placeholder">Plano Star Courier</div>
                <div class="news-content">
                    <h3 class="news-title">Remember Evan Johnson</h3>
                    <p class="news-description">An article about Evan in the Plano Star Courier</p>
                </div>
                <span class="link-arrow">→</span>
            </a>
        </div>
    </div>

    <div id="service" class="tab-content">
        <div class="service-info">
            <p class="service-welcome">All family and friends are invited to attend.</p>
            
            <div class="service-details">
                <p>Friends are encouraged to share stories about Evan during the memorial service scheduled for:</p>
                <p class="service-datetime">Tuesday, December 23 at 6:00 PM</p>
                <p class="service-location">Allen Family Funeral Home<br>2120 W. Spring Creek Pkwy<br>Plano, TX</p>
            </div>
        </div>
    </div>

    <div id="obituary" class="tab-content">
        <h2>Obituary</h2>
        <div class="obituary-content">
            <p class="intro">Evan James Johnson began life on Thanksgiving Day November 27, 1997 at 21 inches, 10 lbs 14 oz in Dallas Texas and departed life 17 years later on December 20, 2014 at 6' 2", 150 pounds in Plano, Texas.</p>
            
            <div class="section">
                <p>He died unexpectedly while sleeping at home.</p>
            </div>

            <div class="section">
                <p>Evan is missed dearly by his parents, Leslie Cherryholmes and Jerry Johnson of Plano; brothers Skyler Johnson of Houston and Connor Johnson of San Antonio; uncles Scotty "Uncle Buck" Cherryholmes of Huntsville TX and Lon Cherryholmes of Dallas; "aunt" Nina Allen of Chicago; and cousins Nicole Johnson of Detroit and Lon Cherryholmes Jr of Dallas. Evan regarded his great aunt and uncle, June and Thad Busbice of Raleigh, North Carolina, as his grandparents.</p>
            </div>

            <div class="section">
                <p>Evan lived a short but full life. He traveled to numerous cities in the US including Houston, San Antonio, Los Angeles, San Francisco, New York City, Washington DC, Chicago, Detroit, Orlando, Las Vegas, and New Orleans. His favorite place in the world away from home, though, was on the beach on Topsail Island, North Carolina. He and his family vacationed there almost every year of his life. He loved to swim in the ocean and play on the beach.</p>
            </div>

            <div class="section">
                <p>Evan was a natural athlete. As a young child he played baseball, basketball, soccer, and football. Basketball became his favorite sport and he continued playing up until the time of his death. Evan was truly in his element on a basketball court. He was very fortunate to play on teams with some of his best friends for many years.</p>
            </div>

            <div class="section">
                <p>Many knew Evan on XBOX as Euphoric Divine playing NBA2K14, Dragon Age, and other games for hours on end. In addition to video games Evan was an avid music fan, listening to music and attending concerts and festivals.</p>
            </div>

            <div class="section">
                <p>Academically, Evan was an outstanding student, as well as the class clown. In the fifth grade he had perfect scores on all his TAKS tests. In 2014 Evan graduated from the prestigious Plano Youth Leadership program. At the time of his death he had just completed the fall semester of his junior year at Plano Senior High School with a 3.9 GPA. Earlier in the week he had gotten his PSAT scores and he was in the 98th percentile in Math. He was very excited about the possibility of studying engineering at a top university when he graduated. He couldn't wait to start visiting colleges.</p>
            </div>

            <div class="section">
                <p>Evan was a young man of supreme confidence, never one to take anything too seriously. Able to find humor in every situation, he thought that he always had everything under control. Evan had dreams of greatness for the future, and we know he would have achieved them. We are very sad that he was taken from us much too early.</p>
            </div>

            <p class="signature">Evan's Obituary was tearfully written by his proud father, Jerry Johnson</p>
        </div>
    </div>

    <div id="pictures" class="tab-content">
        <div class="photo-grid" id="photo-grid">
            <!-- Photos will be loaded here -->
        </div>
        
        <!-- Lightbox -->
        <div class="lightbox">
            <button class="lightbox-close">&times;</button>
            <img src="" alt="Full size image">
            <div class="lightbox-nav">
                <button onclick="previousImage()">Previous</button>
                <button onclick="nextImage()">Next</button>
            </div>
        </div>
    </div>

    <div id="video" class="tab-content">
        <div class="video-container">
            <iframe title="vimeo-player" src="https://player.vimeo.com/video/115229456?h=51b8a557df" width="640" height="360" frameborder="0" allowfullscreen></iframe>
        </div>
    </div>

    <div id="share" class="tab-content">
        <div class="google-form-container">
            <iframe 
                src="https://docs.google.com/forms/d/e/1FAIpQLSfhGfkN3MwCgEP15nJuhHCzjAsf1ri5f9LhxFfnKwHCl1SZ6g/viewform?embedded=true"
                frameborder="0" 
                marginheight="0" 
                marginwidth="0"
                style="width: 100%; height: 1000px;">
                Loading…
            </iframe>
        </div>
    </div>

    <div id="memories" class="tab-content">
        <div class="memory-entry">
            <strong>Yana Farmanyan</strong>
            <p>Not a day goes by where i don't think of Evan. Its almost been a year and i sill struggle every day. Evan was always a close friend. He was someone i could go to in the darkest of times as well as the brightness. His laugh was so contagious, and i never had a dull moment. Id do anything to have him back for it is true that he was taken so early. He's left an imprint on my heart forever and i will treasure ALL the amazing memories we had from kindergarten to junior year. Evan's future was so bright, i couldn't wait to see where life would take him. Missing you everyday Evan, i know you're watching over me. I know you're always with me when our song comes on the radio, when i buy your favorite donut, when i forget my backpack halfway to school or when someone calls me yohana, the nickname you gave me. You're an incredible human being and i will never forget all the times we have had together. Thank you for being someone i could go to. Thanks for being my best friend, rest easy. November 16th, and i still struggle with the loss of you. I love you Ev</p>
        </div>
        <div class="memory-entry">
            <strong>Tanner Robertson</strong>
            <p>I remember we all were at the lunch table at schimelpfenig and always playing basketball at the Rec. I will always remember Evan but one thing I will remember most is that he was a honest and loving kid I love you Evan I can't wait to see you wether that will be soon or later in life we will see. #loveisintheair</p>
        </div>
        <div class="memory-entry">
            <strong>Nathan Freeman</strong>
            <p>If I ever needed help on a test I knew who to go to. I'd go to Evan because he would tutor me in such a funny way I'd never forget any of it. He made me sing songs about math and science for hours bringing me joy and good scores on my tests.</p>
        </div>
        <div class="memory-entry">
            <strong>Tony Nguyen</strong>
            <p>Evan always knew how to be that beacon of light when you were in troubled waters. He'd always be laughing, and whether intentional on his part or not, you would begin feeling better about whatever was bothering you just by him being in your presence. He was a friend that you don't come across many times in life, and I still struggle with the fact that he's gone.</p>
        </div>
        <div class="memory-entry">
            <strong>R. Sullivan</strong>
            <p>Nathan and Evan played basketball together for several summers. When they would lose during the summer league; Evan would be smiling and happy and ready to move on to the next thing. He never showed any disappointment. I know he wanted to win but he was happy anyway -- if he made 6 threes or missed 5 he would smile. You did a great job of always being there supporting, helping, teaching and loving your son beyond, beyond words and more than what most parents do. The results were a bright, happy, intelligent young man that loved life. We were all blessed to know him</p>
        </div>
        <div class="memory-entry">
            <strong>Nicole Johnson</strong>
            <p>As a close cousin and fellow "P-Towner", Evan was like a brother to me. I remember the day he was born and seeing his big baby blanket ball through the glass windows at the hospital. I have known him ever since and we have shared so many memories together that I can't name them. I will pick my favorite memory. It's not a place or event or picture that stands out, it is his voice going "Nicole! Nicole! Nicole! Come play a game with me!". It's the smiles and laughter we shared taking goofy pictures, going on walks, boogie boarding, crab chasing, enjoying many holidays, and vacations. Even though it was a life to short, it was lifetime full of memories that I will cherish forever. In the words of the Robert Hunter "Such a long time to be gone and a short time to be here..." Love you ALWAYS Evan and will continue to create memories with the rest of this great family. #RememberEvan</p>
        </div>
        <div class="memory-entry">
            <strong>Thad and June Busbice</strong>
            <p>We feel so fortunate, so loved, so blessed to have known Evan. It is so difficult to say good-bye. Beautiful memories engulf us; summers at the beach, an extended stay at the farm, a family Christmas, a burst of energy from the beginning, an exuberant red haired toddler exploring his world to an accomplished teenager in command of his dreams. We love you Evan. We miss you. Thank you.</p>
        </div>
        <div class="memory-entry">
            <strong>Kelly Busbice</strong>
            <p>My first memory of Evan is fixed in my mind and brings a smile to my face. He was on the go, small, with a big smile and bright red hair. His family and all of us NC Busbices had gathered at a Durham Bulls baseball game. Evan was everywhere. He was climbing. He was moving from seat to seat. He was going up the stairs and down them. A bundle of energy and a big smile on his face. He'd smile and laugh as he conquered each task. As the years have gone by and I've gotten to see him many summers, he grew in height but that same fun filled smile remained. It was fun to see a little role reversal this summer as we gathered at the farm and I watched as Evan rescued a small and very busy little member of our family from a climb onto some chairs and the leap on to a table. Evan was there, quietly scooped in and saved the active little guy from harm. Just as his dad had swooped in to keep him safe at the baseball game years before. I sure will miss that seeing that smile, but he will always be remembered. Love you Leslie, Jerry, Skylar and Connor- thinking of you and praying for you as you miss him.</p>
        </div>
        <div class="memory-entry">
            <strong>Johnathan Frazier</strong>
            <p>Evan used to call me skeletor because I am skinny and I called him carrot top he was a bro and a friend #rememberEvan</p>
        </div>
        <div class="memory-entry">
            <strong>Eric Friedlander</strong>
            <p>I was lucky enough to spend several Thankgivings with the Johnson family while I was in college. It was during these holidays that I got to spend time with Evan. I remember him being incredibly welcoming in only the way a young child can be. He was so silly, enthusiastic and insistent on playing with us. I couldn't help but have fun and feel at home with him. I am so lucky to have met Evan and am deeply saddened by his passing.</p>
        </div>
        <div class="memory-entry">
            <strong>Carlos Armada</strong>
            <p>I was fortunate enough to meet Evan during his short but full life. It was during Skyler's graduation dinner that I had the chance to meet Evan. To this day, the jokes and stories he told make me laugh. He was only a 14 years old at the time, but had the personality and humor to keep up with a table of college students and adults. His memory will not be forgotten and it will be cherished by many.</p>
        </div>
        <div class="memory-entry">
            <strong>Lily Ito</strong>
            <p>I had the chance to spend Thanksgiving with Evan during my sophomore year of college (2008). He was 11 at the time, very energetic, silly, and impossible not to love and laugh with. I remember playing Rock Band in the living room during that break and thinking, "I wish I had a little brother." He will most certainly be missed and remembered by those fortunate enough to know him, even for a short while.</p>
        </div>
        <div class="memory-entry">
            <strong>Henry Zhang</strong>
            <p>I first met Evan when I visited Skyler during the summer of my Freshman year in college. Evan was extremely energetic and asked to play with me and Skyler all the time. I was happily playing with Evan around the house, near the pool and I felt like he was my little brother too. Next year's thanksgiving I saw Evan again and he grew so much. He was shy to see us at first but quickly became the loud one I knew. I have not seen Evan for a few years but I always remember the little boy dragging me over to the pool to see him dive into the water.</p>
        </div>
        <div class="memory-entry">
            <strong>Barbod Sarah Karami</strong>
            <p>I remember seeing Evan in the hall almost every day last year and I remember always seeing him with a smile on his face and thinking, wow that kid must be living his life as best he can. I secretly tried to be like Evan because he was the only person I know that was always smiling. I wish I could see your sweet smiling face one more time, I would do anything to trade positions with you right now because if there's one thing I know, it's that you of all people deserved this the least. I miss you Brotha and I always will ❤️</p>
        </div>
        <div class="memory-entry">
            <strong>Sol</strong>
            <p>Just got word of the passing of Evan Johnson, a fan of mine from Plano, Texas. I remember meeting you and suggesting that we retake this photo cause I look like a hardo but you said you loved it. I'm so glad we got to meet at Suburbia Fest this summer and I am heartbroken that we lost you so early. I will be thinking about you and your family this holiday season Evan. #RIP #Zillas</p>
        </div>
        <div class="memory-entry">
            <strong>Aunt Nina</strong>
            <p>The first image that always pops up when I think of Evan is his smile. It was quick to appear, had a bit of an impish look, and usually preceded a chuckle. Then comes a myriad of memories which include...</p>
            <p>The glee of a young boy as cousin Nicole dressed him as Skyler's "mini-me" for the high school graduation party.</p>
            <p>Hitting the Mummy Ride over & over with Connor & Nina.</p>
            <p>Going anywhere & everywhere with Dad.</p>
            <p>The 13 year old who was actually a little scared at Universal Studios Horror Night, but was too cool to admit it. Though not too cool to lean on Mom at the end of a long day at Disney.</p>
            <p>The tall handsome young man putting up with hugs from "Aunt Nina" and surfing the roughest waves off Topsail Island.</p>
            <p>He was rambunctious as a kid, but over the last few years grew into a thoughtful and considerate guy, without losing his sense of playfulness. He could be gentle and kind to my aging dog one minute and going for an imaginary basketball ball lay up the next.</p>
            <p>To me it seemed Evan always had a zest for adventure. Whether it was a vacation, a family outing or one of "Aunt" Nina's goofy ideas (International Day comes to mind), he was game to give it a go. Once he knew the plan it was all go, never slow. He was clever and smart, charming and fun to be around. He was adored by his parents, loved by his big brothers and will be missed by all of us.</p>
        </div>
        <div class="memory-entry">
            <strong>Amir Naqi</strong>
            <p>Evan, I have fond memories of being your neighbor, having classes with you, and playing Xbox. I remember the jokes and references you would make in Spanish class. I remember going to your house next door and watching The Andy Milonakis Show and going through your Nintendo 64 games. I remember when you came over and accidentally dialed 911 because of the way our phone was setup. I remember when I got an Xbox and we would play Halo 3 custom games.</p>
            <p>I can't believe it has been so long Evan. I still think about you all the time man. You definitely had an impact in all of our lives. Thank you for being there for us and for all the jokes that lit up our lives. Rest In Peace, Evan.</p>
        </div>
    </div>

    <script>
        // Wait for DOM to be fully loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Tab functionality
            const tabs = document.querySelectorAll('.tab');
            const tabContents = document.querySelectorAll('.tab-content');

            // Function to activate a specific tab
            function activateTab(tabId) {
                // Remove active class from all tabs and contents
                tabs.forEach(t => t.classList.remove('active'));
                tabContents.forEach(content => content.style.display = 'none');

                // Add active class to selected tab and show its content
                const selectedTab = document.querySelector(`[data-tab="${tabId}"]`);
                if (selectedTab) {
                    selectedTab.classList.add('active');
                    const contentElement = document.getElementById(tabId);
                    if (contentElement) {
                        contentElement.style.display = 'block';
                    }
                }
            }

            // Function to handle tab clicks
            function handleTabClick(tab) {
                const tabId = tab.getAttribute('data-tab');
                activateTab(tabId);
                
                // Update URL hash without triggering a scroll
                if (tabId) {
                    history.pushState(null, null, `#${tabId}`);
                } else {
                    history.pushState(null, null, window.location.pathname);
                }
            }

            // Add click event listeners to tabs
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    handleTabClick(tab);
                    
                    // Initialize specific content when tab is clicked
                    const tabId = tab.getAttribute('data-tab');
                    if (tabId === 'pictures') {
                        initializePhotoGrid();
                    }
                    
                    if (tabId === 'memories') {
                        shuffleMemories();
                    }
                });
            });

            // Handle browser back/forward buttons
            window.addEventListener('popstate', function() {
                const hash = window.location.hash.substring(1);
                if (hash) {
                    activateTab(hash);
                    
                    // Initialize content if needed
                    if (hash === 'pictures') {
                        initializePhotoGrid();
                    }
                    
                    if (hash === 'memories') {
                        shuffleMemories();
                    }
                } else {
                    // No hash, hide all tab contents
                    tabs.forEach(t => t.classList.remove('active'));
                    tabContents.forEach(content => content.style.display = 'none');
                }
            });

            // Check for hash in URL on page load
            const hash = window.location.hash.substring(1);
            if (hash) {
                activateTab(hash);
                
                // Initialize content if needed
                if (hash === 'pictures') {
                    initializePhotoGrid();
                }
                
                if (hash === 'memories') {
                    shuffleMemories();
                }
            } else {
                // No hash, hide all tab contents initially
                tabContents.forEach(content => content.style.display = 'none');
            }

            // Fisher-Yates shuffle algorithm
            function shuffleArray(array) {
                for (let i = array.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [array[i], array[j]] = [array[j], array[i]];
                }
                return array;
            }

            // Function to shuffle memory entries
            function shuffleMemories() {
                const memoriesContainer = document.getElementById('memories');
                const memoryEntries = Array.from(memoriesContainer.getElementsByClassName('memory-entry'));
                const shuffledMemories = shuffleArray([...memoryEntries]);
                
                // Clear the container
                while (memoriesContainer.firstChild) {
                    if (memoriesContainer.firstChild.tagName === 'H2') break;
                    memoriesContainer.removeChild(memoriesContainer.firstChild);
                }
                
                // Add memories back in random order
                shuffledMemories.forEach(memory => {
                    memoriesContainer.appendChild(memory);
                });
            }

            // Photo Gallery functionality
            function initializePhotoGrid() {
                const photoGrid = document.querySelector('.photo-grid');
                const lightbox = document.querySelector('.lightbox');
                const lightboxImg = lightbox.querySelector('img');
                let currentImageIndex = 0;

                // Clear existing content
                photoGrid.innerHTML = '';

                // List of all images with their extensions
                const imageList = [
                    // Images 1-30
                    {num: 1, ext: 'jpeg'}, {num: 2, ext: 'jpg'}, {num: 3, ext: 'jpg'}, {num: 4, ext: 'jpg'}, 
                    {num: 5, ext: 'jpeg'}, {num: 6, ext: 'jpeg'}, {num: 7, ext: 'jpg'}, {num: 8, ext: 'png'}, 
                    {num: 9, ext: 'jpg'}, {num: 10, ext: 'jpg'}, {num: 11, ext: 'jpg'}, {num: 12, ext: 'jpeg'}, 
                    {num: 13, ext: 'jpg'}, {num: 14, ext: 'jpg'}, {num: 15, ext: 'jpg'}, {num: 17, ext: 'jpg'}, 
                    {num: 18, ext: 'jpg'}, {num: 19, ext: 'jpg'}, {num: 20, ext: 'jpeg'}, {num: 21, ext: 'jpg'}, 
                    {num: 22, ext: 'jpg'}, {num: 23, ext: 'jpg'}, {num: 24, ext: 'jpg'}, {num: 25, ext: 'jpg'}, 
                    {num: 26, ext: 'jpeg'}, {num: 27, ext: 'jpeg'}, {num: 28, ext: 'jpg'}, {num: 29, ext: 'jpg'}, 
                    {num: 30, ext: 'jpg'},
                    // Images 31-60
                    {num: 31, ext: 'jpg'}, {num: 32, ext: 'jpg'}, {num: 33, ext: 'jpg'}, {num: 34, ext: 'jpg'}, 
                    {num: 35, ext: 'jpg'}, {num: 36, ext: 'jpg'}, {num: 37, ext: 'jpeg'}, {num: 38, ext: 'jpg'}, 
                    {num: 39, ext: 'jpeg'}, {num: 40, ext: 'jpg'}, {num: 41, ext: 'jpg'}, {num: 42, ext: 'jpg'}, 
                    {num: 43, ext: 'jpg'}, {num: 44, ext: 'jpg'}, {num: 45, ext: 'jpg'}, {num: 46, ext: 'jpg'}, 
                    {num: 47, ext: 'jpg'}, {num: 48, ext: 'jpg'}, {num: 49, ext: 'jpg'}, {num: 50, ext: 'jpeg'}, 
                    {num: 51, ext: 'jpeg'}, {num: 52, ext: 'jpeg'}, {num: 53, ext: 'jpg'}, {num: 54, ext: 'jpg'}, 
                    {num: 55, ext: 'jpeg'}, {num: 56, ext: 'jpeg'}, {num: 57, ext: 'jpg'}, {num: 58, ext: 'jpg'}, 
                    {num: 59, ext: 'jpg'}, {num: 60, ext: 'jpg'},
                    // Images 61-90
                    {num: 61, ext: 'png'}, {num: 62, ext: 'jpg'}, {num: 63, ext: 'jpeg'}, {num: 65, ext: 'jpeg'}, 
                    {num: 66, ext: 'jpeg'}, {num: 67, ext: 'jpeg'}, {num: 68, ext: 'jpeg'}, {num: 69, ext: 'jpeg'}, 
                    {num: 70, ext: 'jpeg'}, {num: 71, ext: 'jpeg'}, {num: 72, ext: 'jpeg'}, {num: 73, ext: 'jpeg'}, 
                    {num: 74, ext: 'jpg'}, {num: 75, ext: 'jpg'}, {num: 76, ext: 'jpg'}, {num: 77, ext: 'jpg'}, 
                    {num: 78, ext: 'jpg'}, {num: 79, ext: 'jpg'}, {num: 80, ext: 'jpg'}, {num: 81, ext: 'jpg'}, 
                    {num: 82, ext: 'jpg'}, {num: 83, ext: 'jpg'}, {num: 84, ext: 'jpeg'}, {num: 85, ext: 'jpg'}, 
                    {num: 86, ext: 'jpg'}, {num: 87, ext: 'jpg'}, {num: 88, ext: 'jpg'}, {num: 89, ext: 'jpg'}, 
                    {num: 90, ext: 'jpg'}
                ];

                // Shuffle the image list
                const shuffledImages = shuffleArray([...imageList]);

                // Create gallery thumbnails
                shuffledImages.forEach((image, index) => {
                    const img = document.createElement('img');
                    const imgPath = `images/evan-${image.num}.${image.ext}`;
                    img.src = imgPath;
                    img.alt = `Memory of Evan ${image.num}`;
                    img.dataset.index = index;
                    img.addEventListener('click', openLightbox);
                    img.addEventListener('load', function() {
                        const aspectRatio = this.naturalHeight / this.naturalWidth;
                        if (aspectRatio > 1.5) {
                            this.style.gridRow = 'span 2';
                        } else if (aspectRatio < 0.7) {
                            this.style.gridColumn = 'span 2';
                        }
                    });
                    img.addEventListener('error', function(e) {
                        this.classList.add('image-error');
                        this.style.width = '200px';
                        this.style.height = '200px';
                        this.style.display = 'flex';
                        this.style.alignItems = 'center';
                        this.style.justifyContent = 'center';
                        this.style.backgroundColor = '#f5f2e6';
                        this.style.color = '#666';
                        this.innerHTML = `Image ${image.num}<br>not found`;
                    });
                    photoGrid.appendChild(img);
                });

                function openLightbox(event) {
                    currentImageIndex = parseInt(event.target.dataset.index);
                    updateLightboxImage();
                    lightbox.classList.add('active');
                    document.body.style.overflow = 'hidden';
                }

                function closeLightbox() {
                    lightbox.classList.remove('active');
                    document.body.style.overflow = '';
                }

                function updateLightboxImage() {
                    const image = shuffledImages[currentImageIndex];
                    lightboxImg.src = `images/evan-${image.num}.${image.ext}`;
                }

                function nextImage() {
                    currentImageIndex = (currentImageIndex + 1) % shuffledImages.length;
                    updateLightboxImage();
                }

                function previousImage() {
                    currentImageIndex = (currentImageIndex - 1 + shuffledImages.length) % shuffledImages.length;
                    updateLightboxImage();
                }

                // Close lightbox when clicking outside the image
                lightbox.addEventListener('click', function(e) {
                    if (e.target === lightbox) {
                        closeLightbox();
                    }
                });

                // Close lightbox when clicking the close button
                document.querySelector('.lightbox-close').addEventListener('click', closeLightbox);

                // Keyboard navigation
                document.addEventListener('keydown', function(e) {
                    if (!lightbox.classList.contains('active')) return;
                    
                    if (e.key === 'Escape') closeLightbox();
                    if (e.key === 'ArrowRight') nextImage();
                    if (e.key === 'ArrowLeft') previousImage();
                });
            }
        });
    </script>
</body>
</html>